<h2>Создание матрицы из снимков с наложением кадрирования</h2>

<h3>Экраны</h3>

- Камера - для снимков фото
- Кадрирование - для наложения точек
- Просмотр одной фото - режим просмотра сделанных фото в матрице
- Просмотр фото общего плана - просмотр склеенного фото общего плана

В модуле есть меню, с помощью которого можно перемещаться по экранам.

<h3>Порядок работы</h3>

По умолчанию открывается экран с камерой, матрица устанавливается на первое верхнее фото.\

Если переданный uid существует в локальном хранилище, то будут подгружены ранее сделанные данные для стеллажа: матрица ранее сделанных фото, размеры фото, размер матрицы, точки кадрирования.\

Если есть ранее сохраненные данные, то можно переснять снимок для текущей позиции матрицы, или выбрать дурную позицию в матрице.
Фотографировать стеллаж можно только в определенной последовательности, либо сверху вниз, либо сверху вправо и далее змейкой вниз.
Управление позицией в матрице осуществляется стрелками: вверх, вниз, влево, вправо. 
При установки новой позиции в матрице нельзя выбрать ячейку не имеющую рядом фото, исключение только первая ячейка матрицы.\

Перейти к кадрированию можно если матрица считается полной - равное количество фото по всем столбцам и строкам.

<h3>Особенности</h3>

Локальное хранилище телефона используется как общий стор для всех экранов, т.к. пользователь должен сохранять промежуточные результаты, более того он может выйти из программы и вернуться позже чтобы продолжить выполнять функции модуля: фото других позиций матрицы, кадрирование...
Получить данные хранилища можно функцией `getDataShelfProcessing(uid: string)`  

<h3>Входные данные</h3>

+ uid - уникальный ID стеллажа для временного сохранения данных в локальном хранилище телефона
+ noMatrix - режим одной фотографии, когда матрица из нескольких фото не нужна
+ photoOverlayPercentage - процент перекрытия сделанных фотографий при наложении
+ points - массив точек кадрирования, для отображения раннее сохраненного кадрирования
+ matrix - массив фото, матрица ранее сделанных фотографий
+ onPressBack - функция из вызывающего модуль приложения, для отработки заключительных действий

<h3>Пример вызова модуля</h3>

```
import CameraShelfProcessing, { getDataShelfProcessing } from 'camera-shelf-processing';

// получение данных из локального хранилища
getDataShelfProcessing(`task${schedule.id}-${target_rack_id}`).then((data) => {
    console.log('task:', data);
    setTaskStorage(data);
});

// вызов модуля для фотографирования и кадрирования
<CameraShelfProcessing
    uid={`task${schedule_id}-${target_rack_id}`}
    onPressBack={onPressBack}
    matrix={matrix}
    points={points}
/>
```

<h3>Примеры экранов</h3>

<img src="https://raw.githubusercontent.com/zolotkokn/camera-shelf-processing/main/images/img1.PNG" width="300 "/>
<img src="https://raw.githubusercontent.com/zolotkokn/camera-shelf-processing/main/images/img2.PNG" width="300 "/>
<img src="https://raw.githubusercontent.com/zolotkokn/camera-shelf-processing/main/images/img3.PNG" width="300 "/>
<img src="https://raw.githubusercontent.com/zolotkokn/camera-shelf-processing/main/images/img4.PNG" width="300 "/>

